---
theme: seriph
background: https://s1.ax1x.com/2022/07/15/j4ugET.png
class: text-center
highlighter: shiki
lineNumbers: false
drawings:
  persist: false
transition: fade
preload: false
---

<h1 class="text-green-200">Python botpy</h1>

<div class="text-green-200">åŸºäº æœºå™¨äººå¼€æ”¾å¹³å°API å®ç°çš„æœºå™¨äººæ¡†æ¶</div>

<div class="abs-br m-6 flex gap-2">
  <a href="https://github.com/tencent-connect/botpy" target="_blank" alt="GitHub"
    class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon-logo-github />
  </a>
</div>

---

# SDKæä¾›å¹³å°
[QQå¼€æ”¾å¹³å°](https://q.qq.com/#/)
<img src="https://qqminiapp.cdn-go.cn/open-platform/1e1f57af/img/name.9193f0c3.png">

<img src="https://qqminiapp.cdn-go.cn/open-platform/1e1f57af/img/robot.b167c62c.png">


<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
img{
  display: block;
  margin: 0 auto;
}
</style>

---
layout: image-left
image: https://s1.ax1x.com/2022/07/15/j4u2UU.png
---

# æœºå™¨äººå®ç°


<div class="text-xl mt-12rem text-green-300">TypeScriptActions</div>


<style>
  h1 {
    color: white;
  }
  div{

    font-size: 3rem;
  }
</style>


---
layout: two-cols
---

# ç›®å½•

<br>

<Toc columns="2" />






---
layout: full
---
# ç›®å‰çš„åŠŸèƒ½
<br>

`åŸºç¡€å›å¤`

- ping -----------------------------------------`ä¼šè¿”å›pong ğŸ¹` `(è¯æ˜å­˜æ´»å‘¢æ²¡å)`
- @TypeScriptActions /ping   ----------------- `å’Œä¸Šä¸€æ¡ä¸€æ ·çš„åŠŸèƒ½`
- èµ¢/win ---------------------------------------`è¿”å›Win!` `(æ²¡ä»€ä¹ˆ å°±æ˜¯èµ¢ï¼)`
- ç›’-------------------------------------------- `è¿”å› å“ªé‡Œæœ‰ç›’ï¼Ÿå¼€ç›’ï¼ğŸ˜‹ ` `(å¼€ç›’å’¯)`
- ğŸ¥°-------------------------------------------`è¿”å› ğŸ¥°`
- ğŸ‘¿/ğŸ˜ˆ---------------------------------------`è¿”å› ğŸ˜ˆ/ğŸ‘¿` `(æ²¡ä»€ä¹ˆ å°±æ˜¯æ¶é­”å¤´)`
- ğŸ¤¡-------------------------------------------`è¿”å›ä¸€å¼ å›¾ ã€Šå°ä¸‘ç«Ÿåœ¨æˆ‘èº«è¾¹ã€‹`
- @TypeScriptActions å«----------------------`è®©æœºå™¨äººå«ä½ äº›ä»€ä¹ˆï¼ˆä¸€èˆ¬æ˜¯å«çˆ¹ï¼‰`
- éª°å­------------------------------------------`è¿”å›ä¸€ä¸ªéšæœºæ•°`
- xxxæˆ‘å¥½å–œæ¬¢ä½ suki---------------------------`ä»17å¥å…±4225å­—çš„å‘ç—…æ–‡å­¦ä¸­éšæœºé€‰å–ä¸€å¥`


---
layout: full
---

# ç›®å‰çš„åŠŸèƒ½
<br>

`è°ƒç”¨apiçš„å›å¤`
- @TypeScriptActions ä¸€è¨€ ---------------------`è¿”å›ä¸€å¥è¯`
- @TypeScriptActions æ¯’é¸¡æ±¤ -------------------`è¿”å›ä¸€å¥è¯ï¼ˆæ¯’é¸¡æ±¤ï¼‰`
- å†å²ä¸Šçš„ä»Šå¤© ----------------------------------`è¿”å›å†å²ä¸Šçš„ä»Šå¤©`
- å†å²ä¸Šçš„xx-xx---------------------------------`è¿”å›xxæœˆxxæ—¥å†å²ä¸Šçš„ä»Šå¤©`
- å¤©æ°” -------------------------------------------`è¿”å›é’±å¡˜24å°æ—¶å¤©æ°”é¢„æŠ¥`
- @TypeScriptActions æˆ‘è° --------------------`è¿”å›ä¸€ä¸ªARKæ¨¡æ¿ å†…å®¹åŒ…æ‹¬æˆ‘çš„å¤´åƒã€åç§°ã€åŠ å…¥é¢‘é“çš„æ—¥æœŸ`
- @xxx ä½ è° -------------------------------------`è¿”å›ä¸€ä¸ªARKæ¨¡æ¿ å†…å®¹åŒ…æ‹¬xxxçš„å¤´åƒã€åç§°ã€åŠ å…¥é¢‘é“çš„æ—¥æœŸ`


---
layout: full
---

# ç›®å‰çš„åŠŸèƒ½
<br>

`è°ƒç”¨æ•°æ®åº“çš„å›å¤`
- @TypeScriptActions /ç­¾åˆ° ----------------------`è¿”å›ç­¾åˆ°ä¿¡æ¯`
- @TypeScriptActions ç§¯åˆ† -----------------------`è¿”å›ç§¯åˆ†ä¿¡æ¯`
- @TypeScriptActions æ’å -----------------------`è¿”å›æ’åä¿¡æ¯`



---
layout: full
---

# ç›®å‰çš„åŠŸèƒ½
<br>

`æµ‹è¯•ä¸­çš„å¥½ç©çš„åŠŸèƒ½`
- æƒ…ç»ªåˆ†æ



[![jo6L6g.png](https://s1.ax1x.com/2022/07/18/jo6L6g.png)](https://imgtu.com/i/jo6L6g)
<br>

[ç™¾åº¦æ™ºèƒ½äº‘å¯¹è¯æƒ…ç»ªè¯†åˆ«](https://ai.baidu.com/ai-doc/NLP/rk6z52hlz)

---
layout: full
---

# ç›®å‰çš„åŠŸèƒ½
<br>

`æµ‹è¯•ä¸­çš„å¥½ç©çš„åŠŸèƒ½`
- æƒ…ç»ªåˆ†æ



[![jo6L6g.png](https://s1.ax1x.com/2022/07/15/j4ua4g.png)](https://s1.ax1x.com/2022/07/15/j4ua4g.png)
<br>

[ç™¾åº¦æ™ºèƒ½äº‘å¯¹è¯æƒ…ç»ªè¯†åˆ«](https://ai.baidu.com/ai-doc/NLP/rk6z52hlz)

---

# Code

æ–‡ä»¶ç›®å½•ç»“æ„

```ts {all|1|2|3|4|5|6|7|8|9|10|11|12|13|14|all}
â”‚  active_speak.py              # ä¸»åŠ¨è¯´è¯ï¼ˆä¸Šå·å¤ºèˆå’¯ï¼‰
â”‚  apis.py                      # apiè°ƒç”¨
â”‚  botpy.log                    # æ—¥å¿—æ–‡ä»¶
â”‚  config.yaml                  # é…ç½®æ–‡ä»¶
â”‚  douapi.py                    # apiè°ƒç”¨
â”‚  emoji.py                     # emojiè¡¨æƒ…
â”‚  forbid.py                    # ç¦æ­¢å¹¿å‘Š
â”‚  history.py                   # å†å²ä¸Šçš„ä»Šå¤©
â”‚  main.py                      # ä¸»ç¨‹åº
â”‚  mongo.py                     # mongoæ•°æ®åº“
â”‚  reply.py                     # å›å¤
â”‚  sign.py                      # ç­¾åˆ°
â”‚  weather.py                   # å¤©æ°”
â”‚  who.py                       # æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
```

<style>
.footnotes-sep {
  @apply mt-20 opacity-10;
}
.footnotes {
  @apply text-sm opacity-75;
}
.footnote-backref {
  display: none;
}
</style>


---


# Code

```python {monaco}
import datetime
from botpy.message import Message
from playwright.async_api import async_playwright

async def get_history(self, message: Message):
    day = str(datetime.datetime.now())[5:10].replace('-', '')
    url = 'http://www.people.com.cn/GB/historic/{}/'.format(day)
    async with async_playwright() as p:
        browser = await p.chromium.launch()
        page = await browser.new_page()
        await page.goto(url)
        a = await page.locator("td.t14l14").inner_text()
        await browser.close()
        await self.api.post_message(channel_id=message.channel_id, content=a[:-1], msg_id=message.id)

async def get_someday_history(self, message: Message, day):
    url = 'http://www.people.com.cn/GB/historic/{}/'.format(str(day))
    async with async_playwright() as p:
        browser = await p.chromium.launch()
        page = await browser.new_page()
        await page.goto(url)
        a = await page.locator("td.t14l14").inner_text()
        await browser.close()
        await self.api.post_message(channel_id=message.channel_id, content=a[:-1], msg_id=message.id)

```


---
layout: fact
---

# æ•°æ®åˆ†æ

<Chart />

---
layout: center
preload: false
---
# Powered By Slidev

<div class="w-60 relative mt-6">
  <div class="relative w-40 h-40">
    <img
      v-motion
      :initial="{ x: 800, y: -100, scale: 1.5, rotate: -50 }"
      :enter="final"
      class="absolute top-0 left-0 right-0 bottom-0"
      src="https://sli.dev/logo-square.png"
    />
    <img
      v-motion
      :initial="{ y: 500, x: -100, scale: 2 }"
      :enter="final"
      class="absolute top-0 left-0 right-0 bottom-0"
      src="https://sli.dev/logo-circle.png"
    />
    <img
      v-motion
      :initial="{ x: 600, y: 400, scale: 2, rotate: 100 }"
      :enter="final"
      class="absolute top-0 left-0 right-0 bottom-0"
      src="https://sli.dev/logo-triangle.png"
    />
  </div>

  <div
    class="text-5xl absolute top-14 left-40 text-[#2B90B6] -z-1"
    v-motion
    :initial="{ x: -80, opacity: 0}"
    :enter="{ x: 0, opacity: 1, transition: { delay: 2000, duration: 1000 } }">
    Slidev
  </div>
</div>

<!-- vue script setup scripts can be directly used in markdown, and will only affects current page -->
<script setup lang="ts">
const final = {
  x: 0,
  y: 0,
  rotate: 0,
  scale: 1,
  transition: {
    type: 'spring',
    damping: 10,
    stiffness: 20,
    mass: 2
  }
}
</script>

<div
  v-motion
  :initial="{ x:35, y: 40, opacity: 0}"
  :enter="{ y: 0, opacity: 1, transition: { delay: 3500 } }">

[äº†è§£ä¸€ä¸‹](https://sli.dev/guide/animations.html#motion)

</div>
